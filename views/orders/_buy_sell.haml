Buy / Sell


:ruby
  class BalancePresenter
    include Blizz::Resource
  end
  
  buy = { available: "available", amount: 0.1, price: 450, total: "total" }
  sell = { available: cur_user_balance.btc_available, amount: "amount", price: 0, total: "total" }
  buy   = Blizz.load BalancePresenter, buy
  sell  = Blizz.load BalancePresenter, sell

.graph
.clear

%section
  %form{ action: "/orders", method: :post }
    - hidden "order[type]", :buy
    %h1 BUY
    %p Available: $#{buy.available}
    .relative
      %input{ name: "order[amount]", placeholder: "amount (#{buy.amount} BTC)" , value: buy.amount }
      %span.abso BTC
    .relative
      %input{ name: "order[price]", placeholder: "price  (€#{buy.price})" , value: buy.price }
      %span.abso EUR
    %p Total: #{buy.total}
    - submit "Buy BTC"

%section
  %form{ action: "/orders", method: :post }
    - hidden "order[type]", :sell
    %h1 SELL
    %p Available: #{sell.available} BTC
    .relative
      %input{  name: "order[amount]", placeholder: "amount (#{sell.amount} BTC)" }
      %span.abso BTC
    .relative
      %input{  name: "order[price]", placeholder: "price  (€#{sell.price})" } $
      %span.abso EUR
    %p Total: #{sell.total}
    - submit "Sell BTC"

